<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ìˆ˜ì–´ì˜ìƒ í•™ìŠµ ì‚¬ì´íŠ¸</title>
  <style>
    :root {
      --bg: #0f172a; --panel: #111827; --ink: #e5e7eb; --muted: #9ca3af;
      --accent: #22d3ee; --accent-2: #60a5fa; --ok: #34d399; --warn: #f59e0b; --danger: #fb7185;
    }
    * { box-sizing: border-box }
    body { margin:0; padding:0; background:var(--bg); color:var(--ink); font-family:system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, sans-serif; }
    header { position:sticky; top:0; z-index:10; backdrop-filter:blur(8px); background:rgba(15,23,42,0.7); border-bottom:1px solid rgba(255,255,255,0.08) }
    .wrap { max-width:900px; margin:0 auto; padding:18px 16px }
    h1 { margin:0 0 6px; font-size:22px }
    .sub { font-size:13px; color:var(--muted) }
    .toolbar { display:flex; gap:8px; align-items:center; margin-top:12px; flex-wrap:wrap }
    button { border:0; padding:8px 12px; border-radius:12px; cursor:pointer; font-weight:700; font-size:14px; }
    button { background:linear-gradient(135deg,var(--accent),var(--accent-2)); color:#0b1220; box-shadow:0 6px 18px rgba(37,99,235,0.25) }
    button.secondary { background:#1f2937; color:var(--ink); border:1px solid rgba(255,255,255,0.08); box-shadow:none }
    button.ghost { background:transparent; color:var(--ink); border:1px dashed rgba(255,255,255,0.18) }
    main { max-width:900px; margin:0 auto; padding:18px 16px }
    .card { background:linear-gradient(180deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02)); border:1px solid rgba(255,255,255,0.09); border-radius:16px; padding:14px; box-shadow:0 10px 25px rgba(0,0,0,0.25) }
    .card h3 { margin:8px 0 10px; font-size:18px }
    .meta { font-size:12px; color:var(--muted); display:flex; gap:10px; align-items:center }
    .meta a { color:var(--accent) }
    video { width:100%; border-radius:12px; background:#000 }
    .controls { display:flex; gap:8px; margin:10px 0 2px; flex-wrap:wrap }
    .answer { margin-top:8px; padding:10px 12px; border-radius:10px; background:rgba(34,197,94,0.08); border:1px solid rgba(34,197,94,0.25); display:none; white-space:pre-wrap; line-height:1.5 }
    .memo { margin-top:12px }
    .memo label { font-size:13px; color:var(--muted) }
    .memo textarea { width:100%; min-height:110px; border-radius:12px; padding:10px 12px; background:#0b1220; color:var(--ink); border:1px solid rgba(255,255,255,0.12); resize:vertical }
    .memo-bar { display:flex; gap:8px; align-items:center; margin-top:8px; flex-wrap:wrap }
    .status { font-size:12px; color:var(--muted) }
    .status.saved { color:var(--ok) }
    footer { text-align:center; color:var(--muted); font-size:12px; padding:24px 0 60px }
    .hint { font-size:12px; color:var(--muted) }
    .pill { padding:2px 8px; border-radius:999px; border:1px solid rgba(255,255,255,0.12); font-size:11px }
    .pager { display:flex; align-items:center; justify-content:space-between; gap:8px; margin:10px 0 14px }
    .rate { display:flex; align-items:center; gap:8px; flex-wrap:wrap }
    .rate .now { font-size:12px; color:var(--muted) }
    input[type="range"] { width:220px }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>ìˆ˜ì–´ì˜ìƒ í•™ìŠµ ì‚¬ì´íŠ¸</h1>
      <div class="sub">í•œ ë²ˆì— <b>1ê°œ ì˜ìƒ</b>ë§Œ í‘œì‹œë©ë‹ˆë‹¤. ë©”ëª¨ëŠ” ìë™ ì €ì¥ë˜ë©°, <b>ì •ë‹µí™•ì¸</b>ìœ¼ë¡œ ìš©ë¡€ ë²ˆì—­ë¬¸ì„ í™•ì¸í•˜ì„¸ìš”.</div>
      <div class="toolbar">
        <button id="reshuffleBtn">ğŸ”€ ì „ì²´ ìˆœì„œ ì¬ì„ê¸°</button>
        <button id="revealBtn" class="secondary">âœ… ì •ë‹µ í† ê¸€</button>
        <span id="posHint" class="hint"></span>
      </div>
    </div>
  </header>
  <main>
    <section class="card" id="card"></section>
  </main>
  <footer>Â© 2025 ìˆ˜ì–´ í•™ìŠµ Â· ë¡œì»¬ì— ë©”ëª¨ì™€ ì •ë‹µ ìƒíƒœê°€ ìë™ ì €ì¥ë©ë‹ˆë‹¤.</footer>
  <script>
    const data = [
      { k: "ì¢…", ex: "ë‚˜ëŠ” ë”¸ê³¼ ê±·ë˜ ì¤‘ì— ë”¸ì´ ì¢…ì„ ì‚¬ë‹¬ë¼ê³  ì¡¸ë¼ì„œ ë”¸ì—ê²Œ ì¢…ì„ ì‚¬ ì£¼ì—ˆë‹¤.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202410/LJnoOaDhWmp79ayX.mp4" },
      { k: "ì¢…", ex: "ìƒˆí•´ë¥¼ ë§ì•„ ì œì•¼ì˜ ì¢…ì†Œë¦¬ê°€ ìš¸ë ¤ í¼ì¡Œë‹¤.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202410/q7oplifUF3jxiflF.mp4" },
      { k: "ì–¸ë‹ˆ, ëˆ„ë‚˜", ex: "ìš°ë¦¬ ì–¸ë‹ˆëŠ” ì”ì†Œë¦¬ ëŒ€ë§ˆì™•ì´ë‹¤.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202411/KAzk0Lpg8kVYKDIE.mp4" },
      { k: "ì–¸ë‹ˆ, ëˆ„ë‚˜", ex: "ìš°ë¦¬ ì–¸ë‹ˆë‘ ë‚˜ë‘ ì–¼êµ´ì´ ë˜‘ê°™ë‹¤ê³ ? ê·¸ëŸ° ë§ì€ ì²˜ìŒ ë“¤ì–´.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202411/RPeMYLOXzDIFD77p.mp4" },
      { k: "ì–¸ë‹ˆ, ëˆ„ë‚˜", ex: "ìš°ë¦¬ ì–¸ë‹ˆëŠ” í•­ê³µì‚¬ì—ì„œ ì¼í•œë‹¤.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202411/aPHbBWANGd2ROYhJ.mp4" },
      { k: "ì–¸ë‹ˆ, ëˆ„ë‚˜", ex: "ë‚˜ëŠ” ë‚¨ë™ìƒì€ ìˆê³  ì–¸ë‹ˆëŠ” ì—†ë‹¤.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202411/68EphdW6QNnndXSG.mp4" },
      { k: "ì•„ì´ê³ , ì•„ë¿”ì‹¸", ex: "ë‚˜ëŠ” ë¼ë©´ì„ ë“ì—¬ì„œ ë¨¹ë‹¤ê°€ ê³„ë€ì„ ë„£ëŠ” ê²ƒì„ ê¹œë°•í–ˆë‹¤ëŠ” ê±¸ ê¹¨ë‹¬ì•˜ë‹¤.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202411/hHjAX8dOCpXMUKcG.mp4" },
      { k: "ì•„ì´ê³ , ì•„ë¿”ì‹¸", ex: "ê°€: ì˜¤í›„ì— ë¹„ê°€ ë‚´ë¦°ë‹¤ëŠ”ë°, ìš°ì‚° ì±™ê²¼ì–´? ë‚˜: ì•„ì´ê³ . ê¹œë¹¡í–ˆë„¤.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202411/a3mFRN8ardsnitaQ.mp4" },
      { k: "ì•„ì´ê³ , ì•„ë¿”ì‹¸", ex: "ë‚˜ëŠ” ë¹„í–‰ê¸°ë¥¼ íƒ€ê³  ë‚˜ì„œì•¼ í•¸ë“œí° ì¶©ì „ê¸°ë¥¼ ì§‘ì— ë‘ê³  ì˜¨ ê²ƒì´ ìƒê°ë‚¬ë‹¤.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202411/CpIXrdKcNgjECYYN.mp4" },
      { k: "ì•„ì´ê³ , ì•„ë¿”ì‹¸", ex: "ë‚˜ëŠ” ì¶•êµ¬ ê²½ê¸°ì—ì„œ, ì–´ë µê²Œ ê³¨ëŒ€ ì•ê¹Œì§€ ê°€ì„œ ìŠ›ì„ ë‚ ë ¸ëŠ”ë° ê³µì´ ê³¨ëŒ€ë¥¼ ë¹—ê²¨ ë‚˜ê°€ê³  ë§ì•˜ë‹¤.", src: "https://ksldict.korean.go.kr/kslserv/signFile/video/exmp/202411/4xPXgFiK9GgfH9Lb.mp4" }
    ];
    function shuffle(arr){ const a=arr.slice(); for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];} return a }
    const MEMO_KEY=(src)=>`memo::${src}`; const ANSWER_SHOWN_KEY=(src)=>`answer::shown::${src}`;
    const ORDER_KEY='order::v1'; const INDEX_KEY='index::v1'; const RATE_KEY=(src)=>`rate::${src}`;
    let order=JSON.parse(localStorage.getItem(ORDER_KEY)||'null');
    if(!order||!Array.isArray(order)||order.length!==data.length){ order=shuffle([...Array(data.length).keys()]); localStorage.setItem(ORDER_KEY,JSON.stringify(order)); }
    let idx=parseInt(localStorage.getItem(INDEX_KEY)||'0',10); if(isNaN(idx)||idx<0||idx>=order.length) idx=0;
    const card=document.getElementById('card'); const posHint=document.getElementById('posHint');

    function renderOne(){
      const item=data[order[idx]]; card.innerHTML='';
      const title=document.createElement('h3'); title.textContent=`í•œêµ­ì–´ ëŒ€ì‘í‘œí˜„: ${item.k}`;
      const meta=document.createElement('div'); meta.className='meta'; meta.innerHTML=`<span class="pill">í•™ìŠµ ì¹´ë“œ ${idx+1}/${data.length}</span><span>â€¢</span><a href="${item.src}" target="_blank">ë™ì˜ìƒ ì£¼ì†Œ ì—´ê¸°</a>`;
      const v=document.createElement('video'); v.controls=true; v.preload='auto'; v.autoplay=true; v.muted=false; v.src=item.src;
      const savedRate=parseFloat(localStorage.getItem(RATE_KEY(item.src))||'1'); if(!isNaN(savedRate)) v.playbackRate=savedRate;
      const pager=document.createElement('div'); pager.className='pager';
      const left=document.createElement('div');
      const btnPrev=document.createElement('button'); btnPrev.className='secondary'; btnPrev.textContent='â—€ ì´ì „';
      const btnNext=document.createElement('button'); btnNext.className='secondary'; btnNext.textContent='ë‹¤ìŒ â–¶';
      left.append(btnPrev,btnNext);
      const rate=document.createElement('div'); rate.className='rate';
      const rateDown=document.createElement('button'); rateDown.className='ghost'; rateDown.textContent='ï¼';
      const rateUp=document.createElement('button'); rateUp.className='ghost'; rateUp.textContent='ï¼‹';
      const rateReset=document.createElement('button'); rateReset.className='ghost'; rateReset.textContent='1.0x';
      const rateNow=document.createElement('span'); rateNow.className='now'; rateNow.textContent=`${v.playbackRate.toFixed(2)}x`;
      const rateSlider=document.createElement('input'); rateSlider.type='range'; rateSlider.min='0.25'; rateSlider.max='2.0'; rateSlider.step='0.05'; rateSlider.value=String(v.playbackRate);
      rate.append(rateDown,rateUp,rateReset,rateNow,rateSlider);
      pager.append(left,rate);
      const controls=document.createElement('div'); controls.className='controls';
      const btnAnswer=document.createElement('button'); btnAnswer.className='secondary'; btnAnswer.textContent='ì •ë‹µí™•ì¸';
      const btnReplay=document.createElement('button'); btnReplay.className='ghost'; btnReplay.textContent='â†º ì²˜ìŒë¶€í„°';
      const answer=document.createElement('div'); answer.className='answer'; answer.textContent=item.ex;
      const wasShown=localStorage.getItem(ANSWER_SHOWN_KEY(item.src))==='1'; if(wasShown) answer.style.display='block';
      btnAnswer.addEventListener('click',()=>{const vis=answer.style.display==='block'; answer.style.display=vis?'none':'block'; localStorage.setItem(ANSWER_SHOWN_KEY(item.src),vis?'0':'1')});
      btnReplay.addEventListener('click',()=>{v.currentTime=0; v.play();});
      const memoWrap=document.createElement('div'); memoWrap.className='memo';
      const memoLabel=document.createElement('label'); memoLabel.textContent='ë©”ëª¨';
      const ta=document.createElement('textarea'); ta.placeholder='í•™ìŠµ ì¤‘ ë©”ëª¨ë¥¼ ì‘ì„±í•˜ì„¸ìš”.'; ta.value=localStorage.getItem(MEMO_KEY(item.src))||'';
      const memoBar=document.createElement('div'); memoBar.className='memo-bar';
      const btnClear=document.createElement('button'); btnClear.className='ghost'; btnClear.textContent='ğŸ§¹ ë©”ëª¨ ì§€ìš°ê¸°';
      const status=document.createElement('span'); status.className='status'; status.textContent='ì €ì¥ ì•ˆ ë¨';
      let saveTimer=null; function scheduleSave(){status.textContent='ì €ì¥ ì¤‘â€¦'; clearTimeout(saveTimer); saveTimer=setTimeout(()=>{localStorage.setItem(MEMO_KEY(item.src),ta.value); status.classList.add('saved'); status.textContent='ì €ì¥ë¨';},350)}
      ta.addEventListener('input',scheduleSave);
      btnClear.addEventListener('click',()=>{ta.value=''; localStorage.removeItem(MEMO_KEY(item.src)); status.textContent='ë¹„ì›Œì§'});
      memoBar.append(btnClear,status);
      function go(delta){ idx=(idx+delta+order.length)%order.length; localStorage.setItem(INDEX_KEY,String(idx)); window.scrollTo({top:0,behavior:'smooth'}); renderOne(); }
      btnPrev.addEventListener('click',()=>go(-1)); btnNext.addEventListener('click',()=>go(1));
      function applyRate(val){ const c=Math.min(2.0,Math.max(0.25,val)); v.playbackRate=c; rateNow.textContent=`${c.toFixed(2)}x`; rateSlider.value=String(c); localStorage.setItem(RATE_KEY(item.src),String(c)); }
      rateDown.addEventListener('click',()=>applyRate(v.playbackRate-0.25)); rateUp.addEventListener('click',()=>applyRate(v.playbackRate+0.25)); rateReset.addEventListener('click',()=>applyRate(1.0)); rateSlider.addEventListener('input',(e)=>applyRate(parseFloat(e.target.value)));
      controls.append(btnAnswer,btnReplay);
      card.append(title,meta,v,pager,controls,answer,memoWrap,memoLabel,ta,memoBar);
      posHint.textContent=`í˜„ì¬ ìœ„ì¹˜: ${idx+1}/${data.length}`;
    }
    renderOne();
    document.getElementById('reshuffleBtn').addEventListener('click',()=>{order=shuffle([...Array(data.length).keys()]); localStorage.setItem(ORDER_KEY,JSON.stringify(order)); idx=0; localStorage.setItem(INDEX_KEY,'0'); renderOne(); window.scrollTo({top:0,behavior:'smooth'});});
    document.getElementById('revealBtn').addEventListener('click',()=>{const a=card.querySelector('.answer'); const v=card.querySelector('video'); const vis=a.style.display==='block'; a.style.display=vis?'none':'block'; localStorage.setItem(ANSWER_SHOWN_KEY(v.src),vis?'0':'1')});
  </script>
</body>
</html>
